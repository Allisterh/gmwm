---
title: "Quick Start Guide for the GMWM R Package"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Quick Start Guide for the GMWM R Package}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---
```{r setup, echo=FALSE}
  library("knitr")
  read_chunk("FirstDemo.R")
  opts_chunk$set(cache = T)
```

# Intro

This document illustrates the features of the GMWM package which have been developed to date. The current version is still preliminary and has not been tested extensively. 


# Installation

To start, the GMWM package needs to be installed. There are two options to install the `gmwm` package: CRAN (stable) or GitHub (Development)


## Stable

The installation process with CRAN is the simplest and recommended as the version released is considered to be stable:

```{r inst_cran, eval = F}
```

## Development

For those who wish to be as up-to-date as possible with their `gmwm` install, we also offer the ability to obtain the development version of the package. Since it is a development version, you will need to ensure that your system has a compiler that is compatible with R. **Note CRAN provides binary files of the package so there was no need to compile the package.**

If you have a compiler already installed, then continue on by installing the package dependencies and finally the package itself by doing the following: 

```{r inst_github, eval = F}
```

# Using the `gmwm` package

## Loading

Once this is done, load the package as follows:

```{r library_include, message=FALSE}
```

Note that this will automatically install the package ggplot2.

## Simulate processes

We can now start using the GMWM package and we will simulate a latent model composed of a White Noise (WN) and an Autoregressive model of order 1 (or AR(1) which is a reparametrization of a Gauss-Markov process). To do so, we do the following:

```{r gen_process}
```

## Compute Wavelet Variance

We now compute the Wavelet Variance (WV) of the simulated process and plot it using the following commands:

```{r wv }
```

## Model Process

Based on the plot, we could assume that the model is in fact an AR(1) + WN process for which we would like to estimate its parameters. We therefore specify the model we would like to estimate

```{r modelTS}
```

and subsequently use it in the GMWM estimating function as follows

```{r GMWM}
```

The difference between the true and estimated parameters is given below:

```{r results}
```

## Graphing

It is also possible, as a visual measure of "goodness of fit" of the estimated model, to see the difference between the estimated WV and the one implied by the estimated parameters. To do so we simply do the following

```{r GMWMplot}
```


# Real Life Application
Next, we consider a real signal issued from a MEMS IMU. To obtain the data, we must download and install the `imudata` package.

```{r install_imu, message=FALSE}
```

To load the data and display the first rows for each sensor we do:
```{r imuData, message=FALSE}
```

To use the data within the modeling paradigm, we must first cast it as type imu:
```{r imu_object}
```

To plot the WV (and confidence intervals) for all gyroscopes and accelerometers, we can use the following function 

```{r imuPlot separate}
```

Let us consider the Gyro on the axis X and, given the estimated WV from the plot, let us estimate a model which is the sum of three AR(1) processes:

```{r imuModel}
```

To see the results of the estimation, we can use the summary function as well as visualize the fit of the implied WV to the estimated WV from Gyro X (as done in the simulation example).

```{r imuModel summary}
```